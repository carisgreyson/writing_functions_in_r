# Exercises

Let's start with some simple exercises to get familiar with the syntax of writing
functions.

## 1.1 hello_world()
Create a function called `hello_world` which prints "Hello world!" to the 
console, & call the function.

**Hint: use the `print()` function.**

```{r hello_world_solution}
hello_world <- function(){
  print("Hello world!")
}

hello_world()
  
```

## 1.2 my_mean()
Create a function called `my_mean` which takes two arguments, `x` and `y`, and
calculates their mean.

Call the function to find the mean of 7.5 and 16.

**Hint:** include a `return()` statement if you want your function to print the 
result to the console.

```{r my_mean_solution}
my_mean <- function(x, y) {
  z <- (x + y) / 2
  
  return(z)
}

my_mean(7.5, 16)

```

## 1.3.1 fizz_buzz()

Now try using an if else statement inside a function.

Create a function called `fizz_buzz` which takes a number as input and:

* If the number is divisible by both 3 and 5, returns "fizz buzz"
* If the number is divisible by just 3, returns "fizz"
* If the number is divisible by just 5, returns "buzz"
* Otherwise the number is returned (coerced to character type)

To check your function works, try it out with values 1, 2, 3, 4, 5 & 15.

**Hint:** 
This exercise is very similar to example 4.

The stucture of an if else statement is - 

```
if(condition_1) {
  code
} else if (condition_2) {
  code
} else if (condition_3) {
  code
} else {
  code
}
```
Where each condition evaluates to either `TRUE` or `FALSE`.

To test whether a number is divisible by another number, you can use the modulo
operator `%%`, which calculates the remainder:
```{r}
1 %% 3 == 0
3 %% 3 == 0
```
This is used in example 4.

To coerce a number to character type, use `as.character()`.


```{r fizz_buzz_solution}
fizz_buzz <- function(x) {
  if (x %% 3 == 0 & x %% 5 == 0) {
    return("fizz buzz")
  } else if (x %% 3 == 0) {
    return("fizz")
  } else if (x %% 5 == 0) {
    return("buzz")
  } else {
    return(as.character(x))
  }
}

fizz_buzz(1)
fizz_buzz(2)
fizz_buzz(3)
fizz_buzz(4)
fizz_buzz(5)
fizz_buzz(15)
```

### 1.3.2 fizz_buzz_vec()

Most functions in R are vectorised. This means they're able to apply an operation
to every element of a vector at the same time.

It's best practice to vectorise your own functions too as this will help you to
combine them with other functions.

Create a new version of the `fizz_buzz()` function called `fizz_buzz_vec` which
instead accepts a vector of numbers.

Test it out on a vector of the numbers 1 to 15.

**Hint:** if else statements aren't vectorised so you'll need to switch to using 
`case_when()` from the Tidyverse package `dplyr`. Run `?case_when` to bring up 
the help file.

*If you get stuck on this exercise you can still complete exercise 1.3.3.*

```{r fizz_buzz_vec_solution}
fizz_buzz_vec <- function(x){
  dplyr::case_when(
    x %% 3 == 0 & x %% 5 == 0 ~ "fizz buzz",
    x %% 3 == 0 ~ "fizz",
    x %% 5 == 0 ~ "buzz",
    TRUE ~ as.character(x)
  )
}

fizz_buzz_vec(1:15)

```

### 1.3.3 fizz_buzz_custom()
Create version of `fizz_buzz()` or `fizz_buzz_vec()` called `fizz_buzz_custom` or
`fizz_buzz_custom_vec` where the values for when to say "fizz" and "buzz" can be
changed by setting arguments `fizz` and `buzz`, but the default values are still
3 and 5.

Test your new function out, first by checking you get the same results as above 
when you don't specify the `fizz` or `buzz` arguments, and second when you set
`buzz = 7` for values 1, 2, 3, 7, 15 and 21.

```{r fizz_buzz_custom_solution}
fizz_buzz_custom <- function(x, fizz = 3, buzz = 5) {
  if (x %% fizz == 0 & x %% buzz == 0) {
    return("fizz buzz")
  } else if (x %% fizz == 0) {
    return("fizz")
  } else if (x %% buzz == 0) {
    return("buzz")
  } else {
    return(as.character(x))
  }
}


fizz_buzz_custom_vec <- function(x, fizz = 3, buzz = 5){
  dplyr::case_when(
    x %% fizz == 0 && x %% buzz == 0 ~ "fizz buzz",
    x %% fizz == 0 ~ "fizz",
    x %% buzz == 0 ~ "buzz",
    TRUE ~ as.character(x)
  )
}

fizz_buzz_custom_vec(1:15)
fizz_buzz_custom_vec(c(1, 2, 3, 7, 15, 21), buzz = 7)


```




